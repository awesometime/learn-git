### 京东 三面offer跑了 (搜索)
京东的面试流程真有点拖沓，三面分在三天里，每次约好的时间到那先等上至少一个小时，还有从上午等到下午的。
一面：

1. 静态库动态库有什么区别知道吗(静态库编译时就写入可执行文件了，动态库运行时才加载；内存上动态库可以多个进程共享，静态库每个都有一份)
2. 进程有哪些运行状态(就绪、运行中、等待、停止)；运行状态什么时候会切到就绪态(比如时间片用完)；什么时候会切到等待(比如遇到IO)
3. 空类多大(1字节)为什么(因为编译器要保证每个对象在内存中都有不同的地址)
答完面试官说“这个题看来你还是刷到啦”，我跟他一块儿哈哈一笑
4. set的底层数据结构是什么(红黑树)红黑树有啥特点吗(是一个平衡二叉树，然后插入删除查找都是lgn)它怎么保证平衡呢(跪了，红黑树我就知道这么多了，所以到这里开始瞎说，被指出错误就停了)
5. 现在我这个set里每个元素是都是复合类型，比如struct或者class，这就意味着有多个成员，那我要判断一个元素是否在这个set中的话，是不是要struct中的每个成员跟节点中的每个成员都相等，才能判断存在？(这个被他带坑里去了，也是自己好久不写C++，其实他想问的是重载operator<，自己当时说错了一堆，最后在他的不断质疑下才想起来这个)
6. 抽象类是什么(有纯虚函数的类)那抽象类能实例化吗(不能)为啥(因为假如能的话，我们去调用它的那个方法是没有实际可执行的代码的)
7. linux signal有什么作用(可以在进程运行过程中暂停的它的运行然后让它去做另外的事情)具体在程序中要怎么做(注册一个signal提供handler)你写过这样的程序吗(写过)哪些信号注册了也没用(不知道了，也就写过那么一两次)
8. TCP的TIME_WAIT状态啥时候出现的(已经在各种面试中被问到过好几次了)为什么要有这个状态(它可以保证重发丢失的ACK；还可以防止之后重用这个端口的进程不至于被对端认成前任(假如ACK包丢掉的话))
9. 虚表是什么东西(聊vtable)如果有多重继承的话这个虚表长什么样(这个真不知道，被教育了一通)
10. TCP粘包听过吗(感谢CVTE，当初是他家面试听到这个名词的，概念其实知道但没见过这个名字)
11. C++中的对象要新起实例化的时候能不能用malloc函数去实例化(不能，malloc只分配内存不做初始化)
12. select/epoll；不过深挖了一些我就跪了，比如select描述符个数限制是多少(1K)，能不能改怎么改等等(不能，想改得编译内核)
13. 构造函数能是虚函数吗(不能，但是理由比较糊涂，他给的理由是虚表(指针?)要在构造函数中去初始化)
14. 一致性哈希算法听过吗(没听过，直接过了；后来回去查发现这东西就是头条三面的标准答案啊，京东你这么搞是不是有点瑕疵呢)
15. 进程和线程的最显著区别是什么(线程内存共享，进程通信比较重)；那么进程间通信手段有哪些(这个问题都回答疲劳了，不过面试官一深挖我又捉襟见肘了)；共享内存有啥缺陷(没聊到点上，确实是自己用的少没经验)；如果有10个进程两两一对儿要通信，用一个消息队列能不能行(能行，但原因没说到点，还是没用过不熟悉)
16. 如果有一个服务要求不能启动两次，用什么机制来做(说写bash每次启动前检查(ps,grep))只能用bash吗，纯C程序写过没有，怎么做
17. 哪些时候会调用构造函数(就是问C++的那几个拷贝赋值构造，我自己老是记不明白)
18. 友元函数用过吗；友元类有什么特性
19. 好我们最后来一个算法题：有一个无序的100万大小的数组，求它的中位数(最简单的就是排序咯，面试官步步进逼拿这个问各种复杂度，态度让人有点不爽；不过这里学到了以前一直忽视的一个东西，就是复杂度中的常量不能不看场景地忽略，100W的数组用基数排序是没有nlgn的排序算法快的)有没有更好的办法？(就是快排partition的那种做法了，跟他聊find_kth，聊着聊着他又笑了，说看来你还是见过这个题，我就有点儿怒了说不是我见过，这个是算法导论上的啊；内心OS：特么刷题还有错了？不刷题答不上来你们给挂掉，刷过答上来你又讥讽是刷的，到底要怎么伺候嘛？)
那再问一个吧，如果一个数组，也还是那一百万，它是已经有序排好的，然后其中有一个成员它重复次数很多，重复超过一半啦，有什么办法能快速找到它。
我有点儿懵，这个题你排好序是想问什么，确认了一下题意没理解错，就说中间那个数就是嘛。面试官说除了这个还有别的办法吗？这...还要什么别的办法...我说这不已经是一个O(1)的办法了吗，他说嗯..那有没有比他复杂度更高的办法呢？我...(Σ( ° △ °|||)︴)，哎呀从来没见过这么贱的要求啊~ 聊了会儿我始终很不安，跟他强调为什么我都O(1)了你还不满足。
于是他改了题目，现在重复次数不是过半了，只是超过1/3，怎么整。想了想说了一个滑动窗口的办法，又是聊起来处处沟通不畅。感觉这个面试官总是轻蔑讥讽的态度让人很不舒服，莫不也是另类的压力面？(猜测更可能是京东本来就这么大压力吧[摊手])

二面：
好吧二面我写不动了，好玩儿的地方就是本来都进行到“你还有哪些问题”这种男生权利环节了，结果问了几个问题(素颜照？住公公家住婆婆家？~)后面试官看一眼表说我们时间还有，要不做几道算法题吧。臣妾也只好答应~
后来就是许多天后接到电话说要给offer，是个男的感觉不是HR，前面都聊得好好的，入职时间工作地点都说完了，他随口问了一句你确定了吧？我说还要考虑一下，他直接乐了，说还要考虑吗？我说嗯，那边就非常迅速地“那好我们之后再联系吧”就把电话挂了。后来舍友已经接到邮件offer了我还没动静，再后来就收到拒信了。

### 腾讯 offer (SNG即通平台 深圳)
内推挂掉，这个是走正常流程笔试完面试的。地点在清华那边一个酒店里，早签到可以早面试的安排很不错。
一面：
运气太好，面试官是本科师兄(虽然不认识)。于是感觉一点儿没有刁难，项目就聊了好久，然后随便问了几个简单问题就过了。

1. 找一段代码里的错误，大抵语言(C++)过关就没问题
2. 写一个函数删除字符串中的空格
3. 两台电脑用一根网线直连，发现带宽总是跑不满，会是什么原因？(先说是不是线不好，或者电脑不好(网卡)，面试官尴尬说也行，如果排除硬件问题呢，恩..可能接收端操作系统的buffer太小，或者发送端进程太多)
4. 判断一段代码的输出，还是C++基础

二面：
项目聊完让写一个memcpy，因为有了MSRA被虐的经验所以对这种貌似简单的题很警惕，写的时候把各种边界条件包括两段内存有重叠的情况都考虑进去了，写了快一页纸，给面试官看然后聊的过程中发觉这个题可能本来没这些要求，但能写这么严谨大约是惊艳到了。然后问哪些点可以优化，因为自己为了可读性定义了好几个函数，就说哪个哪个可以inline掉节省一定函数调用的overhead，问还有呢，说可以把void*指针转成机器支持的最大字长类型，比如uint32_t，这样每次拷贝可以多一些数据，降低O(n)里的常数，不过要注意边界条件就是尾巴上可能不够这么多字节，说可以那你写一下这部分的代码吧，写之。
完了又聊了会儿项目就结束了。

### 搜狐 offer
搜狐当时已经不大想去了，但已经跟人约了时间所以还是去一下。到地儿早了快一个小时，找前台妹子人妹子爱答不理地让我到点再联系HR，在楼外坐了好半天。联系到HR领上楼等，看着搜狐的环境还是挺不错的。一起等的还有一个社招的小哥。
过会儿面试官过来，胖乎乎感觉很geek的样子，问的问题也相当..难，感觉都是他现想出来的，小哥应该挺有水平；一面面了我一个半小时，都快扛不住了。

1. 一个工厂，在接下来的n周里面，每周要交付的产品数量是y[i](各周不同)，这些产品可以是当周生产的也可以是之前的周里生产的所以本周直接从仓库里拿，一开始仓库是空的；如果你要生产有一个生产成本是c[i]元每件，然后还有一个仓库储存成本x，单位是每件每周多少元；问要完成这n周的计划所需要的最少成本
2. 给一棵二叉搜索树(可以有重复，如果值相等只会在左子树)，再给一个数x，问小于等于x的节点有多少个
3. Python题

        class X:
            def f(self):
                pass
        a = X()
        a.f is a.f  # 问这个表达式结果是啥(True/False)

4. foo.bar这种属性访问可以被重载吗？(可以，`__getattr__` 或 `__getattribute__` 但是两者的区别记不清了)做过这种事吗？(做过)为啥做的呢(写过一个each()，可以简化for循环的写法)
5. 写一个add函数，支持这样的操作：add(3)(4) == 7，小哥说这个我估计你两分钟就能写出来，确实写出来了，然后小哥坏笑说所以其实我真正想问的不是这个题(我@#!%@#)，题：
写一个add函数，支持这样的操作：add(1)(2)(3)(0) == 6，即可以调用任意多次，最后一次传入参数为0时返回求和的结果
6. 你有考虑过这东西用C++怎么做吗(用class重载operator()返回*this)还有吗(...呃，应该比较黑魔法的有模板，但是我不会写)
7. C++的static关键字是干什么用的(天终于有一个正常题了)
8. C++写个单例
9. C++比较新点儿的特性有了解吗(auto, lambda...)unique_ptr和shared_ptr知道吗(知道，但是臣妾真心没怎么用过)move呢(返回值无需拷贝)
10. vim你一般会配什么插件用吗(我自己写过Python和C++的语法插件，用的话基本就只语法高亮这种，我其实更多是把它当一个文本编辑器来用)
还是问一个吧，想要输入n行文字，每行都是"there are 99 bottles on the beach"这种，那个数字是按行递减的，要怎么输入(先输一行，然后录个宏，这个宏就是拷一行下去，找到这个数，ctrl-x减1，然后把宏执行100次)
11. linux命令，找出一篇文章中某个单词的出现次数(好吧，我不会，linux没用过那么多，瞎猜是用sed或者awk做)
12. nginx的日志，给描述了每一列的含义，其中有一列是URL，现在想找到一段时间内(比如最近一小时)访问量比较大且出现了404的那些URL，最快的做法是什么(他想要的不是写clean problem的那种top-k实现，而是有什么用什么最快完成的方式，勉勉强强说了一个，实在是linux没那么熟)又问那如果你有网呢，你会怎么查这个问题的解决方案？直接让我拿手机出来搜，我手机正录着音呢怕不好看就把录音关了，于是后面还问了什么我就都不记得了~

二面的话面试官过来啥都没问成，他说他做Java的他们这边几乎都是做Java的，好不容易找了一个会C++会Python的来面我就是那个一面面试官，我这真没什么东西能问你呀，于是二面十分钟就结束了。问了他他们这边做什么实习生来了会做什么，介绍说这边是搜狐北京研发中心，他们主要做docker分布式计算，像我来了的话主要就是写shell脚本(我...心说你们一面那难度招进来就写shell脚本是不是有点儿坑)

### Amazon offer (Kindle Tech)
3、4月份投的外企大多都没动静(IBM, Oracle, Intel, FreeWheel, VMware, Yahoo)，亚马逊这个来了想着就去一下看看吧。当时参加宣讲会HR有说面试准备一下英文自我介绍，之前有同学去了说一面全程英文，但我实在懒得弄了，随便想了想自我介绍。最后也没用上，两面都是中文，倒是那边的员工说话确实爱蹦单词儿。

一面：

1. 算法题：求树中两个节点的最低公共祖先(lowest common ancestor, leetcode原题)，不过是用情境题的形式问的，而且可以自己设计节点的数据结构，所以我直接加上父指针降低难度啦~
2. 设计题：做一个界面，会用到多种Dialog，比如第一种PopupDialog只有一个OK Button，第二种ConfirmDialog有OK/Cancel Button，第三种QuitDialog有OK/Cancel/Abort Button，设计一下Dialog的class model——对了还有一个需求就是PopupDialog是不能改变大小的，另外两个可以
然后又聊会儿项目就进入“你有什么问题”环节了

二面：
面试官上来自己先自我介绍(蛤)，然后说了下这场面试可能有哪些环节，感觉很周到。还说看了我的github page——嗯..个人主页这种东西确实偶尔也是能加分的，因为比较少人有，看到时都会忍不住点进去瞅一眼。
然后聊项目，项目中引申出各种问题：

1. Python和C++有什么区别你觉得
2. 我比较好奇Python对多线程的支持到底是怎么样的？(前面他说自己对Python不熟，聊到这儿我感觉他是假装的，想看看我呈现出来的Python水平有没有水分；聊了GIL锁)
3. 你刚才说C++的性能高，那么高的原因是什么
4. 从面向对象的角度考虑，你觉得Python是一个面向对象的语言吗(我说是，然后说了Python的class、继承、多态之类，，他反驳，我又跟他聊Python表面上看无类型但实际上内部是强类型，而且写代码的时候克制自己的话完全可以符合面向对象的那些标准，不过讨论到最后他还是说anyway~ 保留意见的样子吧)
5. 介绍一下你说的面向对象的那些特征(封装继承多态)
6. 说一下线程之间的消息传递(...)线程消息传递本质上是怎么样的(线程之间堆空间是共享的，所以在共享空间中放一个数据结构，大家都去访问这个结构)
7. 那么进程之间的消息传递呢(...)进程之间传递的本质是什么呢(把进程A地址空间里的一段内存数据，借助操作系统的帮助，拷贝到进程B的地址空间中。面试官反应："cool~")

算法题：

1. 是leetcode上那个贼隔家偷钱的原题(198题)，但是我忘了解法了...生想，给出个n^2的dp解法，第一次在白板上写代码，感觉滑溜溜的，后来在各种讨论和提示下优化到了O(n)
用的Python，dp是用递归形式写的，然后跟他说这个递归函数得加个memorized的decorator才能做到真正的dp，他就让写下那个memorized，写完他就此问题跟我聊了半天到底什么是dp
中途忽然问了句我写的那个decorator的复杂度是什么，我愣了一下，它的复杂度？想了想这是想问啥，想不出什么坑，说就是O(1)呀，它只是对一个函数做了下修饰，并没有任何循环的操作。面试官反应："cool~ cool~"
2. 求无序数组的最长递增子序列
又是忘了解法，现想只想出来个n^2的做法，后来苦思冥想也没做出优化，，不过面试官说没关系没关系第二个问题没有全答上来也是OK的

二面完就让回去了，一度以为没啥希望了吧，二面很一般，，但是当天下午就接到HR电话给offer了，意外之喜



经验教训
--------

1. 算法
leetcode要早刷，研一就可以开始了。越早开始越能发现自己的不足，互联网公司面试，90%都会问算法，这是避不开的；另外刷的时候，不要只追求数量，搞懂搞深入达到能举一反三的程度才是最好的，有些不太会面试的面试官可能被你背原题糊弄过去，但有水平的面试官会各种深挖各种引申，这时候只背题就捉襟见肘了。

2. 简历
有机会的话尽量多搞些能给自己简历加分的东西，比如大赛成绩或实习经历，这俩我都没有，只好写上一堆自己瞎捣鼓的个人项目。当好未来猎头的时候感觉很明显，只有那些可以明确量化的东西放在简历上才能吸引眼球，只写项目的话，面试官很难从一段描述中判断项目的含金量，很可能别人本来很水的项目好好包装一下用些高大上的名词看上去反而比你的更有吸引力。所以这方面实在不行就去贡献开源项目吧，我自己没弄过，也不知道性价比有多高。

3. 套路
面试的一般套路就是先聊项目，你的项目面试官很感兴趣的话直接就能聊过面试时间的一半，接下来可能随便水两个算法就过了。如果项目不行就会被问很多基础知识了，大抵都是语言、网络、操作系统(有些也问数据库，我数据库很菜，所幸没怎么被问到过)，这些刷面经都可以刷到，查缺补漏就好了。有些面试里基础知识也会挖的比较深，能深入理解最好，但要是时间紧迫就还是追求覆盖面吧，别有太多盲点，基础知识问的碎很容易被扫到盲区。最后重头戏就是算法了，一般都需要纸上写代码，所以这个技能有必要专门练一练，否则很容易因为不适应导致本来能写好的算法写得一塌糊涂。另外有些公司不怎么问基础，全程算法，据说外企多是这个路数，但我没面过很多。

4. 心态
不要有“等我准备好了再开始投”的心态，你永远不会准备好。能准备多少是多少，一边找一边查缺补漏才是正道。经历着面试被虐也才会有更强烈的刺激和目标去提升。另外最佳的面试节奏是由低到高，先面那些本就不打算去的小公司刷刷经验，也让自己面试时不会那么紧张；再去好一些的公司；最后去dream company。每次拿到一个保底的offer，信心会更多一些，然后比这个offer次的公司就不用考虑了，可以去尝试更好的公司。我自己当时走了些弯路，把小米阿里腾讯这种公司放在了前面，果然挂掉了。心态上自己最开始也不自信，楼道里等电面的时候也很紧张，但是慢慢拿到一些offer后就相应调整自己的定位，到最后也疲劳了也不慌了，自我介绍都倒背如流了，偶尔还能跟面试官扯扯淡，到了这个状态就没什么问题了。

5. 岗位
首先不要被岗位的Job Description唬住，觉得自己必须一条条都满足才能投。其实真正面试时面试官都不会把那些要求当成硬性标准。要明白你不需要完美答出所有的问题，你只需要答得比同一岗位的其他应聘者好就行了。其次虽然不用太在乎JD，但也不能完全乱投，要在一个公司的众多岗位里选和自己最匹配的那个。我自己当初傻乎乎投了小米的算法岗(图像处理机器学习)，后来面试官给的反馈是“比你强的人太多了”；头条内推挂掉换算法岗之后面试又换回后台岗，如果当时硬着头皮面算法可能就也跪了。

6. 拿到邮件offer前不要作
只有拿到邮件offer一家才算结束，口头什么的都不靠谱。人家电话要给你offer的时候最好别说你还要考虑，保不齐就碰到京东这种傲娇妹子把offer改拒信了，或者360这种抛半个橄榄枝从此相忘于江湖了。

7. 缘分
找工作真的有很多运气因素，有时候觉得面得很好-挂了，面得很烂-反而过了；还有的时候真就是点背，总是被戳到盲点一发入魂。所以结果跟自己的预期不符时不用怀疑自己，要相信有怎样的水平终能找到怎样的工作，往前走就好了。一家面完了也不用每天查进度刷群，漏接电话能打回去打回去打不回去就算了。缘分到了总是你的。

就说这么多吧(已经TL;DR了不是)，最后祝大家都能找到心仪的工作~



日历
----

    没动静 3.02 网易有道
    没动静 3.07 网易互联网
    没动静 3.08 三角兽
    没动静 3.08 菱歌科技
    没动静 3.09 Intel
    没动静 3.09 滴滴
    没动静 3.11 商汤科技
    没动静 3.11 迅雷
    没动静 3.11 链家
    没动静 3.12 欢聚时代
    没动静 3.15 Hulu
    没动静 3.16 FreeWheel
    没动静 3.16 VMware
    没动静 3.16 第四范式
    没动静 3.19 Oracle
    没动静 3.19 卷皮网
    没动静 3.19 唯品会
    没动静 3.19 珍爱网
    没动静 3.19 趣店集团
    没动静 3.21 猎豹
    没动静 3.28 Yahoo
    没动静 3.28 新浪

    简历挂 3.02 招行信用卡中心
    简历挂 3.16 百度

    笔试挂 3.18 微软
    笔试挂 3.23 美图

    一面挂 3.03 阿里
    一面挂 3.04 携程
    一面挂 3.09 完美世界
    一面挂 3.13 微软亚研院
    两面挂 3.11 小米
    两面挂 3.19 知乎
    两面挂 3.28 CVTE
    两面挂 3.31 趣加游戏

    拒面试 3.02 网易游戏
    拒面试 3.05 去哪儿
    拒面试 3.19 宜信大数据
    拒测评 4.14 IBM

    等消息 3.08 搜狗

    offer拒了 3.08 格灵深瞳
    offer拒了 3.09 恒润科技

    offer跑了 3.04 京东
    offer跑了 3.09 360

    offer 3.19 豆瓣
    offer 3.23 融360
    offer 3.21 搜狐
    offer 3.04 美团
    offer 3.03 华为
    offer 3.05 头条
    offer 3.03 腾讯
    offer 3.25 Amazon
