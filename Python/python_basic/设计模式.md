[设计模式 python 实现 imtiantian/Python_Awesome_Interview](https://github.com/imtiantian/Python_Awesome_Interview/tree/master/python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F)

[ 设计模式 官方doc 图解且标明了重要程度](https://design-patterns.readthedocs.io/zh_CN/latest/index.html)

[博客 图](https://www.cnblogs.com/luolingfeng/p/5844838.html)

[python 博客 图](https://www.cnblogs.com/Liqiongyu/p/5916710.html)

[ 博客](https://blog.csdn.net/LoveLion/article/details/17517213)

```
三种最基本的设计模式：

创建模式，提供实例化的方法，为适合的状况提供相应的对象创建方法。
结构化模式，通常用来处理实体之间的关系，使得这些实体能够更好地协同工作。
行为模式，用于在不同的实体建进行通信，为实体之间的通信提供更容易，更灵活的通信方法。
```

### 创建模式

> 单例模式

[call 闭包 单例模式](https://www.jianshu.com/p/e1d95c4e1697?utm_source=oschina-app)

> 简单工厂模式

```py3
class Product_opt:
    def getResult(self):
        pass


class Product_add(Product_opt):
    def getResult(self):
        return self.num1 + self.num2


class Product_sub(Product_opt):
    def getResult(self):
        return self.num1 - self.num2


class Product_err(Product_opt):
    def getResult(self):
        print("error")
        return 0


class Factory:
    operation = {}
    operation["+"] = Product_add()
    operation["-"] = Product_sub()

    def createproduct(self, ch):
        if ch in self.operation:
            op = self.operation[ch]
        else:
            op = Product_err()
        return op


if __name__ == "__main__":
    num1 = int(input("a:"))
    op = input("operation:")
    num2 = int(input("b:"))
    factory = Factory()
    product = factory.createproduct(op)
    product.num1 = num1
    product.num2 = num2
    print(product.getResult())
```

> 工厂方法模式

[简单工厂模式 VS 工厂方法模式](https://www.cnblogs.com/Xjng/p/3879064.html)

> 抽象工厂模式（Abstract Factory）

### 结构型模式

> 适配器模式(Adapter)

```py3
# https://www.cnblogs.com/Liqiongyu/p/5916710.html
class Dog(object):
    def __init__(self):
        self.name = "Dog"

    def bark(self):
        return "woof!"


class Cat(object):
    def __init__(self):
        self.name = "Cat"

    def meow(self):
        return "meow!"


class Human(object):
    def __init__(self):
        self.name = "Human"

    def speak(self):
        return "'hello'"


class Car(object):
    def __init__(self):
        self.name = "Car"

    def make_noise(self, octane_level):
        return "vroom%s" % ("!" * octane_level)


class Adapter(object):
    """
    Adapts an object by replacing methods.
    Usage:
    dog = Dog()
    dog = Adapter(dog, dict(make_noise=dog.bark))
    """

    def __init__(self, obj, adapted_methods):
        """We set the adapted methods in the object's dict"""
        self.obj = obj
        self.__dict__.update(adapted_methods)

    def __getattr__(self, attr):
        """All non-adapted calls are passed to the object"""
        return getattr(self.obj, attr)


def main():
    objects = []
    dog = Dog()
    objects.append(Adapter(dog, dict(make_noise=dog.bark)))

    cat = Cat()
    objects.append(Adapter(cat, dict(make_noise=cat.meow)))

    human = Human()
    objects.append(Adapter(human, dict(make_noise=human.speak)))

    car = Car()
    car_noise = lambda: car.make_noise(3)
    objects.append(Adapter(car, dict(make_noise=car_noise)))

    for obj in objects:
        print("A", obj.name, "goes", obj.make_noise())


if __name__ == "__main__":
    main()
```
> 装饰器模式

[python设计模式-装饰器模式](https://segmentfault.com/a/1190000012064562)
```
一个饮料店里面卖茶和咖啡。 并且有冰块，糖和牛奶三种辅料可以添加。 我们可以计算出一共有14中组合产品。并且每增加一种饮料就要增加7种组合产品。
关联方式
讲得很清楚
```
